<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

	<h:form id="formConferencia">    

		<p:dialog header="Asesoría/Conferencia" widgetVar="panelConferencia"
			resizable="true" closable="false" width="900" responsive="true"
			height="450">


			<p:outputPanel style="width:100%" id="pnlOutputTiempoGastado">
				<p:panel id="pnlConferencia">
					<p:panelGrid style="width:100%" columns="3">

						<p:outputLabel style="font-weight:normal; font-size:14px"
							value="Minutos disponibles del plan" />
							
						<p:outputLabel style="font-weight:normal; font-size:14px"
							value="Minutos gastados en esta asesoría" />
							   
						<p:outputLabel style="font-weight:normal; font-size:14px"
							value="$ esta asesoría" />


						<p:outputLabel style="font-weight:normal; font-size:22px"
							value="0" />
							
						<p:outputLabel style="font-weight:normal; font-size:14px"
							value="#{administrarEtapa.tiempoConsumido}" />
							
						<p:outputLabel style="font-weight:normal; font-size:22px"
							value="$1000" />



					</p:panelGrid>
					<br />


					<div align="center">

						<p:commandButton id="btIniciarConferencia"
							rendered="#{!administrarEtapa.asesoriaIniciada}"
							style="font-size:18px; font-weight: bold !important; color:green; height:50px"
							action="#{administrarEtapa.iniciarAsesoria()}" process="@this"
							value="Iniciar asesoria/conferencia"
							update="pnlConferencia, :formPoll">

						</p:commandButton>
						<p:spacer width="10" />

						<p:commandButton id="btTerminarConferencia"
							rendered="#{administrarEtapa.asesoriaIniciada}"
							style="font-size:18px; font-weight: bold !important; color:red; height:50px"
							action="#{administrarEtapa.terminarAsesoria()}" process="@this"
							value="Terminar asesoría" update="pnlConferencia, :formPoll">

						</p:commandButton>

						<p:spacer width="10" />

						<p:commandButton id="btnCancelarConferencia"
							rendered="#{!administrarEtapa.asesoriaIniciada}"
							style="font-size:14px; font-weight: normal !important;"
							action="#{consultarFuncionesAPI.cerrarModal('panelConferencia')}"
							process="@this" value="Cerrar" update="@this">

						</p:commandButton>


					</div>

				</p:panel>
			</p:outputPanel>



			<br />




		</p:dialog>


	</h:form>
	<h:form id="formPoll">

		<p:outputPanel rendered="#{administrarEtapa.asesoriaIniciada}">
			<p:poll interval="1" listener="#{administrarEtapa.procesarTiempo()}"
				update=":formConferencia:pnlOutputTiempoGastado" />
		</p:outputPanel>
	</h:form>
</ui:composition>
